# memo 2025-12-07

## Workflow commands

### Using workflow commands to access toolkit functions

Reference: https://docs.github.com/en/actions/reference/workflows-and-actions/workflow-commands#environment-files

The `actions/toolkit` includes a number of functions
that can be executed as workflow commands.
Use the `::` syntax to run the workflow commands withing your YAML file;
these commands are then sent to the runner over `stdout`.

For example, instead of using code to create an error annotattion, as below;

```yaml
name: CI

on:
  push:
    branches:
      - main
      - dev

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Say Hello to the World
        run: echo "Hello, World!"
      - name: Create annotation for build error
        run: echo "::error file=app.js,line=1::Missing semicolon"
```

### Check out what the runner environment already has

The **GitHub-hosted runners** com preinstalled with tools:

* Linux runner includes:
  * Bash, Zsh
  * Git
  * Python, Node, Ruby
  * Docker CLI
  * Java
  * Make, gcc/clang
  * zip, tar, jq, curl


There are several scopes

* `GITHUB_WORKSPACE`: 
* `GITHUB_SHA`: 
* `GITHUB_REF`: 
* `${{ github.actor }}`: 
* `${{ env.VARIABLE }}`: 


```yaml
name: Inspect Runner

on:
  workflow_dispatch

jobs:
  env-demo:
    runs-on: ubuntu-latest
    env:
      LOCAL_VAR: "Heelo from job env"
    steps:
      - run: echo "Actor -> $GITHUB_ACTOR"
      - run: echo "Commit SHA ->  $GITHUB_SHA"
      - run: echo "Local var -> $LOCAL_VAR"

```
